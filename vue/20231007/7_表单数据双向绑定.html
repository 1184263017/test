<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="../20230925/js/vue.js"></script>
    <title>Document</title>
</head>

<body>
    <div id="app"></div>
    <template id="t1">
        <div>
            <!-- 自己手动写双向绑定 -->
            <!-- <input type="text" :value="form.username" @input="form.username = $event.target.value">{{form.username}}
            <hr> -->
            <!-- vue双向绑定(语法糖) -->
            <!-- 单行多行文本绑定 -->
            <input type="text" v-model="form.username">{{form.username}}
            <hr>
            <textarea v-model="form.desc" name="" id="" cols="30" rows="10"></textarea>{{form.desc}}
            <hr>


            <!-- 复选框绑定(不写value默认值是true和false) -->
            <input type="checkbox" @change="genderchange" :checked="form.hobby.includes('css')" name="hobby"
                value="css">CSS
            <input type="checkbox" @change="genderchange" :checked="form.hobby.includes('html')" name="hobby"
                value="html">HTML
            <input type="checkbox" @change="genderchange" :checked="form.hobby.includes('js')" name="hobby"
                value="js">JS
            {{form.hobby}}
            <hr>
            <input type="checkbox" v-model="form.hobby" value="css">CSS
            <input type="checkbox" v-model="form.hobby" value="html">HTML
            <input type="checkbox" v-model="form.hobby" value="js">JS
            {{form.hobby}}
            <hr>
            <!-- 单选框,自定义选择值,不定义则是true false -->
            <input type="checkbox" v-model="form.allow" true-value="yes" false-value="no">是否同意
            {{form.allow}}
            <hr>

            <!-- 单选绑定 -->
            <input type="radio" @change="form.gender = $event.target.value" :value="1" :checked="form.gender === 1"
                name="gender">男
            <input type="radio" @change="form.gender = $event.target.value" :value="2" :checked="form.gender === 2"
                name="gender">女
            {{form.gender}}
            <hr>
            <input type="radio" v-model="form.gender" value="1">男
            <input type="radio" v-model="form.gender" value="2">女
            {{form.gender}}
            <hr>

            <!-- 下拉绑定 -->
            <select name="" id="" @change="form.city = $event.target.value" :value="form.city">
                <option value="a">A</option>
                <option value="b">B</option>
                <option value="c">C</option>
            </select>
            {{form.city}}
            <hr>
            <select name="" id="" v-model="form.city">
                <option value="a">A</option>
                <option value="b">B</option>
                <option value="c">C</option>
            </select>
            {{form.city}}
            <hr>
        </div>
    </template>
    <script>
        [].includes
        const vm = new Vue({
            el: '#app',
            template: '#t1',
            data() {
                return {
                    form: {
                        username: 'jack',
                        desc: 'hahaha',
                        hobby: ['css', 'js', 'html'],
                        allow: 'yes',
                        gender: 1,
                        city: 'c'
                    }
                };
            },
            methods: {
                genderchange(e) {
                    console.log(e.target.value, e.target.checked);
                    if (e.target.checked) {
                        this.form.hobby.push(e.target.value)
                    } else {
                        let i = this.form.hobby.findIndex((v) => v === e.target.value)
                        this.form.hobby.splice(i, 1)
                    }
                }
            },
        })
    </script>
</body>

</html>