<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        function camelize(str){
            let arr = str.split('-');
            let res = arr.map((value,index)=>{
                let str;
                if(index!=0){
                    str = value[0].toUpperCase();
                    return str + value.slice(1)
                }
                return value;
            })
            return res.join('')
        }
        // 复习
        function cs1(str){
            let arr = str.split('-');
            let res = arr.map((value,index)=>{
                return index == 0 ? value : value[0].toUpperCase() + value.slice(1)
            })
            return res.join('')
        }
        console.log(cs1('my-short-string'));
        console.log('------------');

        


        function filterRange(arr, a, b){
            let res = arr.filter((value,index)=>{
                if(value >= a && value <= b){
                    return 1;
                }
            })
            return res;
        }
        // 复习
        function cs2(arr, a, b){
            return arr.filter(value=>value >= a && value<= b);
        }
        let arr1 = [5, 3, 8, 1];
        let filtered = cs2(arr1, 1, 4);
        console.log(arr1);
        console.log(filtered);
        console.log('------------');


        function filterRangeInPlace(arr, a, b){
            let arr1 = [];
            arr.forEach((value,index) => {
                if(a <= value && value <= b){
                    arr1.push(value)
                }
            });
            arr.splice(0)
            arr = Object.assign(arr,arr1)
        }
        function cs3(arr, a, b){
            for (let i = 0; i < arr.length; i++) {
                if( arr[i] < a  || arr[i] > b){
                    arr.splice(i,1)
                    i--
                }
            }
        }
        let arr2 = [5, 7, 3, 8, 6, 1];
        cs3(arr2, 1, 4); 
        console.log(arr2);
        console.log('------------');



        
        function getPao(arr){
            let num;
            for (let i = 0; i < arr.length; i++) {
                for (let y = i+1; y < arr.length; y++) {
                    if (arr[i]<arr[y]) {
                        num = arr[i];
                        arr[i] = arr[y];
                        arr[y] = num;
                    }
                }
            }
        }
        let arr3 = [5, 2, 1, -10, 8];
        getPao(arr3);
        console.log(arr3);
        console.log('------------');


        function copySorted(arr){
            let arr1 = arr.map(value=>value)
            let num;
            for (let i = 0; i < arr1.length; i++) {
                for (let y = i+1; y < arr1.length; y++) {
                    if (arr1[i]>arr1[y]) {
                        num = arr1[i];
                        arr1[i] = arr1[y];
                        arr1[y] = num;
                    }
                }
            }
            return arr1;
        }
        
        // 复习
        function cs4(arr) {
            let newarr1 = arr4.slice();
            newarr1.sort((a,b)=> a>b?1:-1);
            return newarr1
        }
        let arr4 = ["HTML", "JavaScript", "Vue", "CSS"];
        // 复制数组的方式
        let newarr1 = arr4.slice();
        let newarr2 = arr4.map(value=>value);
        let newarr3 = arr4.join('-').split('-');
        // console.log(newarr1,newarr2,newarr3);
        let sorted = cs4(arr4);
        console.log( sorted ); // CSS, HTML, JavaScript
        console.log( arr4 ); // HTML, JavaScript, CSS (no changes)
        console.log('------------------');


        // let john = { name: "John", age: 25 };
        // let pete = { name: "Pete", age: 30 };
        // let mary = { name: "Mary", age: 28 };
        // let users = [ john, pete, mary ];

        // let names = users.map(value=>value.name)
        // console.log(names);
        // console.log('------------');

        // let john = { name: "John", surname: "Smith", id: 1 };
        // let pete = { name: "Pete", surname: "Hunt", id: 2 };
        // let mary = { name: "Mary", surname: "Key", id: 3 };
        // let users = [ john, pete, mary ];
        // let usersMapped = users.map(value=> ({
        //         fullName:`${value.name} ${value.surname}`,
        //         id:value.id
        //     }))
        // console.log(usersMapped[0].id);
        // console.log(usersMapped[0].fullName);
        // console.log('-------------');


        // function sortByAge(users){
        //     arr.sort((a,b)=> a.age - b.age)
        // }
        // let john = { name: "John", age: 25 };
        // let pete = { name: "Pete", age: 30 };
        // let mary = { name: "Mary", age: 28 };
        // let arr = [ pete, john, mary ];
        // sortByAge(arr);
        // console.log(arr[0].name);
        // console.log(arr[1].name);
        // console.log(arr[2].name);
        // console.log('-----------');


        function getMax(min,max){
           return Math.round(Math.random() * (max - min)) + min;
        }
        function shuffle(arr){
            let arr1 = []
            while(arr1.length < 3){
                let num = arr[getMax(arr.length-1,0)];
                if (arr1.indexOf(num) == -1) {
                    arr1.push(num)
                }
            }
            arr = Object.assign(arr,arr1)
        }
        let arr5 = [1, 2, 3];
        shuffle(arr5);
        console.log(arr5);
        console.log('-----------');

        function getAverageAge(users){
            let sum = 0;
            sum = users.reduce((sum,value)=> sum += value.age,0);
            return sum/users.length;
        }
        let john = { name: "John", age: 25 };
        let pete = { name: "Pete", age: 30 };
        let mary = { name: "Mary", age: 29 };
        let arr6 = [ john, pete, mary ];
        console.log(getAverageAge(arr6));
        console.log('---------------');

        function unique(arr){
            let arr1 = [];
            arr.forEach(value=>{
                if(arr1.indexOf(value) == -1){
                    arr1.push(value)
                }
            })
            return arr1;
        }
        let strings = ["Hare", "Krishna", "Hare", "Krishna",
        "Krishna", "Krishna", "Hare", "Hare", ":-O"
        ];
        console.log( unique(strings) ); 
        console.log('---------------');


        function groupById(arr) {
            let res = arr.reduce((sum,value,index)=>{
                    sum[value.id] = {
                        id:value.id,
                        name:value.name,
                        age:value.age,
                    }
                    return sum;
            },{})
            return res
        }
        let users = [
                {id: 'john', name: "John Smith", age: 20},
                {id: 'ann', name: "Ann Smith", age: 24},
                {id: 'pete', name: "Pete Peterson", age: 31},
            ];
        console.log(groupById(users));
        console.log('---------------');



        function Calculator() {
            this.ysf = ['+','-'],
            this.fun = [
                (a,b)=>a+b,
                (a,b)=>a-b,
            ],
            this.calculate = function (str) {
                let arr = str.split(' ');
                let num1 = +arr[0];
                let num2 = +arr[2];
                let ys = arr[1];
                let index = this.ysf.findIndex((value,index)=>{
                    return ys == value;
                })
                return this.fun[index](num1,num2)
            },
            this.addMethod = function(name,fun){
                this.ysf.push(name)
                this.fun.push(fun)
            }
        }
        //复习
        function  cs5() {
            this.calculate = function (str) {
                let arr = str.split(' ');
                return this[arr[1]](+arr[0],+arr[2])
            },
            this.addMethod = function(name,fun){
                this[name] = fun;
            }
            this['+'] = (a,b)=>a+b;
            this['-'] = (a,b)=>a-b;
        }
        // let res = new Calculator();
        let res = new cs5();
        res.addMethod('*',(a,b)=>a*b)
        res.addMethod('/',(a,b)=>a/b)
        res.addMethod('**',(a,b)=>a**b)
        console.log(res.calculate("1 + 2"));
        console.log(res.calculate("3 - 2"));
        console.log(res.calculate('3 * 2'));
        console.log(res.calculate('10 / 2'));
        console.log(res.calculate('2 ** 2'));



        function cs6(){
            let arr7 = [1,2,3,4,5,6,7,8,9,10,'J','Q','K'];
            let num3;
            for (let i = 0; i < arr7.length; i++) {
                let r = Math.round(Math.random() * i);
                num3 = arr7[i]
                arr7[i] = arr7[r]
                arr7[r] = num3
            }
            return arr7;
        }
        console.log(cs6());
        console.log(cs6());
    </script>
</body>
</html>